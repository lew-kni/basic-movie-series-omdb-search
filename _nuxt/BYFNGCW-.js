import{g as V,r as g,c as o,o as s,H as C,l as $,I as N,m as e,a as l,P as T,s as D,j as I,k as _,q as K,K as M,b as k,w as R,t as w,F as q,n as j,M as F}from"./BvUii1m_.js";import{_ as H}from"./5jEnPwSL.js";import{_ as O}from"./BJ0c6-pN.js";import{d as z,a as A}from"./CZZuU3po.js";import{u as E}from"./DtkH-OTN.js";import"./ldXmmWj5.js";const L={class:"flex items-center"},P=["placeholder"],U=V({__name:"textfield",props:{hasSearch:{type:Boolean,default:!1},placeholder:{type:String,default:"Search..."},defaultValue:{type:String,default:""}},emits:["search"],setup(m,{emit:h}){const n=h,c=m;let t=g("");c.defaultValue&&(t.value=c.defaultValue);const r=()=>{t.value&&n("search",t.value)};return(u,i)=>(s(),o("div",L,[C(l("input",{type:"text","onUpdate:modelValue":i[0]||(i[0]=d=>D(t)?t.value=d:t=d),onKeyup:T(r,["enter"]),class:"flex-1 p-2 text-base border border-gray-300 rounded capitalize text-black",placeholder:m.placeholder},null,40,P),[[N,e(t)]]),m.hasSearch?(s(),o("button",{key:0,onClick:r,class:"ml-2 text-base bg-transparent border-none cursor-pointer"},i[1]||(i[1]=[l("span",null,"🔍",-1)]))):$("",!0)]))}}),W={class:"page-container text-white"},G={class:"w-full"},J={key:0,class:"mt-4 px-4"},Q={key:0,class:"text-gray-500"},X={class:"text-center"},Y={class:"text-center"},Z={class:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4 mt-5"},le=V({__name:"index",setup(m){const{search:h}=E();let n=g("");const c=g([]),t=I(),r=_(()=>t),u=_(()=>{var a;return z((a=r.value)==null?void 0:a.params.category)}),i=_(()=>{var a;return A(((a=u.value)==null?void 0:a.url)||"")});K(async()=>{r.value.query.q&&d(r.value.query.q)});const d=async a=>{n.value=a;const f=await h(a,i.value);c.value=f.data||[];const y={...t.query,q:a};await M().replace({query:y})};return(a,f)=>{var x,v,b,S;const y=U,B=H;return s(),o("div",W,[k(B,{title:`Welcome to the ${(x=e(u))==null?void 0:x.friendly} database`,subtitle:`Search for your favorite ${(v=e(u))==null?void 0:v.friendly}.`,class:"pt-12"},{default:R(()=>{var p;return[l("div",G,[f[0]||(f[0]=l("p",{class:"text-center text-gray-500 mb-4"},null,-1)),k(y,{class:"w-full max-w-md mx-auto",onSearch:d,hasSearch:"",placeholder:`Search ${(p=e(u))==null?void 0:p.friendly}...`,defaultValue:e(r).query.q},null,8,["placeholder","defaultValue"])])]}),_:1},8,["title","subtitle"]),e(n)?(s(),o("div",J,[(S=(b=e(c))==null?void 0:b.Search)!=null&&S.length?(s(),o(q,{key:1},[l("p",Y,"Showing results for '"+w(e(n))+"'",1),l("div",Z,[(s(!0),o(q,null,j(e(c).Search,p=>(s(),F(O,{key:p.imdbID,item:p,category:e(u).url,class:""},null,8,["item","category"]))),128))])],64)):(s(),o("div",Q,[l("p",X,"No results found for '"+w(e(n))+"'.",1)]))])):$("",!0)])}}});export{le as default};
